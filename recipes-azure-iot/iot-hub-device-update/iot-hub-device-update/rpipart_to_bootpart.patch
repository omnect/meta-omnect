diff --git a/src/adu-shell/scripts/adu-swupdate.sh b/src/adu-shell/scripts/adu-swupdate.sh
index 1dc2704..70fa467 100644
--- a/src/adu-shell/scripts/adu-swupdate.sh
+++ b/src/adu-shell/scripts/adu-swupdate.sh
@@ -75,24 +75,28 @@ mkdir -p "$log_dir"
 # SWUpdate doesn't support everything necessary for the dual-copy or A/B update strategy.
 # Here we figure out the current OS partition and then set some environment variables
 # that we use to tell swupdate which partition to target.
-rootfs_dev=$(mount | grep "on / type" | cut -d':' -f 2 | cut -d' ' -f 1)
-if [[ $rootfs_dev == '/dev/mmcblk0p2' ]]; then
+if [[ $(readlink -f /dev/omnect/rootCurrent) == $(readlink -f /dev/omnect/rootA) ]]; then
     selection="stable,copy2"
-    current_part=2
     update_part=3
 else
     selection="stable,copy1"
-    current_part=3
     update_part=2
 fi
 
 if [[ $action == "apply" ]]; then
     # Set the bootloader environment variable
-    # to tell the bootloader to boot into the current partition
-    # instead of the one that was updated.
-    # rpipart variable is specific to our boot.scr script.
+    # to tell the bootloader to boot into the update partition.
+    # bootpart variable is specific to our boot.scr script.
+    # if the bootloader is also updated, the update will not be validated.
+    # -> revert to old rootFS not possible
     echo "Applying update." >> "${log_dir}/swupdate.log"
-    fw_setenv rpipart $update_part
+    if [ -f "/run/bootloader/update" ]; then
+        fw_setenv bootpart $update_part
+        echo "use bootpart environment" >> "${log_dir}/swupdate.log"
+    else
+        fw_setenv omnect_validate_update_part $update_part
+        echo "use omnect_validate_update_part environment" >> "${log_dir}/swupdate.log"
+    fi
     $ret $?
 fi
 
@@ -100,9 +104,9 @@ if [[ $action == "revert" ]]; then
     # Set the bootloader environment variable
     # to tell the bootloader to boot into the current partition
     # instead of the one that was updated.
-    # rpipart variable is specific to our boot.scr script.
+    # bootpart variable is specific to our boot.scr script.
     echo "Reverting update." >> "${log_dir}/swupdate.log"
-    fw_setenv rpipart $current_part
+    fw_setenv omnect_validate_update_part
     $ret $?
 fi
 
