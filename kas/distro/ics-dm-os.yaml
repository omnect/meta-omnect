# kas config file

header:
  version: 10
  includes:
    - kas/distro/poky.yaml

repos:
  meta-ics-dm:
  ext/meta-openembedded:
    url: "https://github.com/openembedded/meta-openembedded.git"
    refspec: fcc7d7eae82be4c180f2e8fa3db90a8ab3be07b7
    layers:
      meta-filesystems:
      meta-networking:
      meta-oe:
      meta-python:
  ext/meta-rust:
    url: "https://github.com/mlilien/meta-rust.git"
    refspec: 4b95d156a166550cdc96672cb680e56cc32e794a
    patches:
      # we have to patch meta-rust, because it is not compatible with
      # kirkstone per se. we have to explicitly mask pokys rust recipes.
      # thus we can't patch meta-rust for kirkstone compatibility upstream.
      p001:
        repo: "meta-ics-dm"
        path: "kas/patches/meta-rust-kirkstone-compatibility.patch"
  ext/meta-swupdate:
    url: "https://github.com/sbabic/meta-swupdate.git"
    refspec: 4a86f3a64ee5248861aad0d3829c345e88a1f71d

distro: ics-dm-os

target: ics-dm-os-update-image

env:
  # distro vars
  DISTRO_NAME_PREFIX: ""
  DISTRO_NAME_SUFFIX: ""
  # build number which is reflected in DISTRO_VERSION
  ICS_DM_BUILD_NUMBER: "0"
  # changelog version and repo uri of meta-ics-dm
  META_ICS_DM_VERSION: "META_ICS_DM_VERSION_NOT_SET"
  META_ICS_DM_GIT_REPO: "META_ICS_DM_GIT_REPO_NOT_SET"
  # changelog version, revision, branch and repo uri of ics-dm-os
  ICS_DM_OS_VERSION: "ICS_DM_OS_VERSION_NOT_SET"
  ICS_DM_OS_GIT_SHA: "ICS_DM_OS_GIT_SHA_NOT_SET"
  ICS_DM_OS_GIT_BRANCH: "ICS_DM_OS_GIT_BRANCH_NOT_SET"
  ICS_DM_OS_GIT_REPO: "ICS_DM_OS_GIT_REPO_NOT_SET"

  # partition configuration
  ICS_DM_PART_SIZE_BOOT: "40960"
  ICS_DM_PART_SIZE_UBOOT_ENV: "64"
  ICS_DM_PART_SIZE_ROOTFS: "760832"
  ICS_DM_PART_SIZE_FACTORY: "40960"
  ICS_DM_PART_SIZE_CERT: "40960"
  ICS_DM_PART_SIZE_ETC: "40960"
  ICS_DM_PART_SIZE_DATA: "524288"

  # OOM configuration
  ICS_DM_VM_PANIC_ON_OOM: "0"

  # yocto build vars
  DEPLOY_DIR: "${TOPDIR}/deploy"
  DL_DIR: "${TOPDIR}/download"
  SSTATE_DIR: "${TOPDIR}/sstate"
  SSTATE_MIRRORS: ""
  TMPDIR: "${TOPDIR}/tmp"

  # iot-hub-device-update
  ADU_DEVICEPROPERTIES_MANUFACTURER: "ADU_DEVICEPROPERTIES_MANUFACTURER_NOT_SET"
  ADU_DEVICEPROPERTIES_MODEL: "ADU_DEVICEPROPERTIES_MODEL_NOT_SET"
  ADU_MANUFACTURER: "ADU_MANUFACTURER_NOT_SET"
  ADU_MODEL: "ADU_MODEL_NOT_SET"
  ADU_GROUP: "ADU_GROUP_NOT_SET"

  # sw-update
  HW_REV: "1.0"
  SWUPDATE_PRIVATE_KEY: "SWUPDATE_PRIVATE_KEY_NOT_SET"
  SWUPDATE_PASSWORD_FILE: "SWUPDATE_PASSWORD_FILE_NOT_SET"

  # ICS-DM development tools
  ICS_DM_DEVEL_TOOLS: ""

  # (plain) password of ics-dm user
  ICS_DM_USER_PASSWORD: ""

local_conf_header:
  meta-ics-dm_distro_ics-dm-os: |
    # For more options have a look into "poky/meta-poky/conf/local.conf.sample" resp.
    # "openebedded-core/meta/conf/local.conf.sample".
